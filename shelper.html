<head>
		<title>SHelper</title>
		<meta name="viewport" content="user-scalable=no, width=device-width">
		<meta charset="UTF-8">

		<link href="css/bootstrap.min.css" rel="stylesheet" >
		<link href="css/style.css" rel="stylesheet" type="text/css">

		<script src="js/jquery.min.js"></script>
		<script src="js/bootstrap.min.js"></script>
</head>

<body>
	Outbound List: <textarea id="outbound" rows="5"></textarea>
	<button onclick="compute(0)">Go</button><br/>
	Inbound List: <textarea id="inbound" rows="5"></textarea>
	<button onclick="compute(1)">Go</button><br/>
  	Ans: <textarea id="ans_txt" rows="5"></textarea>
</body>

<script>
  Array.prototype.unique = function() {
    return this.filter(function (value, index, self) { 
      return self.indexOf(value) === index;
    });
  }

  function compute(type = -1) {
    var result = '';
    var ans = "";
    var r0 = new RegExp(/\n[A-Z]{3}([A-Z]{3})\n/, 'i');
    var r1 = new RegExp(/\n[A-Z]{3}([A-Z]{3})\n/, 'i');

    if (type != -1) {
	var list_ans = [];
	ans = ((type == 0) ? ($("#outbound").val()) : ($("#inbound").val()));
	var r2 = ((type == 0) ? r0 : r1;
	//result = 'on run {input, parameters}\ntell application "Google Chrome" to activate\ntell Application "System Events"\ndelay 0.5
	while ((array1 = r2.exec(ans)) !== null) {
		var tmp_ans = array1[1];
		console.log(tmp_ans);
	}
    }
    $('#ans_txt').val(result);
  }
</script>
