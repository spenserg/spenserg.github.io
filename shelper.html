<head>
		<title>SHelper</title>
		<meta name="viewport" content="user-scalable=no, width=device-width">
		<meta charset="UTF-8">

		<link href="css/bootstrap.min.css" rel="stylesheet" >
		<link href="css/style.css" rel="stylesheet" type="text/css">

		<script src="js/jquery.min.js"></script>
		<script src="js/bootstrap.min.js"></script>
</head>

<body>
	Text: <textarea id="page_txt"></textarea>
	<button onclick="compute()">Go</button><br/><br/>
  Ans: <textarea id="ans_txt"></textarea>
</body>

<script>
  function compute() {
    var result = 'on run {input, parameters}\ntell application "Google Chrome" to activate\ntell Application "System Events"\ndelay 0.5';
    var ans = $("#page_txt").val();
    var r1 = new RegExp(/NEXT\sQUIZ\nPLAY\sANOTHER\n([\s\S]+)Today\'s\sDaily\sDose\n/, 'i');
    var r2 = new RegExp(/\n[^\t]+\t([^\t\n]+)[\t\n]/, 'g');
    if (r1.test(ans)) { ans = r1.exec(ans)[1]; console.log(ans);} while ((array1 = r2.exec(ans)) !== null) { result += '\nkeystroke "' + array1[1] + '"\nkeystroke "a" using {command down}\ndelay 0.5\nkey code 51'; }
    $('#ans_txt').val(result + "\nend\nend run");
  }
</script>
