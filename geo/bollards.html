<!DOCTYPE html>
<html>
	<head>
		<title>Bollards</title>
		<meta charset="utf-8">
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
		<link rel="stylesheet" href="/geo/css/bollards.css" type="text/css" />
		<script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
		<script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
	</head>
	<body>
		<nav class="navbar navbar-expand-lg fixed-top" style="background-color: #212121; color: white;">
			<a class="navbar-brand" href="/geo/main.html">
				<img class="logo" src="/geo/img/logo/geohints.png" />
			</a>
			<div class="input-group mb-3">
				<div class="input-group-prepend">
					<span style="margin:auto">Known colors:</span>
					<button class="btn btn-geo-nav" id="r_nav" type="button" style="color:black; border:2px solid red">Red</button>
					<button class="btn btn-geo-nav" id="y_nav" type="button" style="color:black; border:2px solid yellow">Yellow</button>
					<button class="btn btn-geo-nav" id="g_nav" type="button" style="color:black; border:2px solid green">Green</button>
					<button class="btn btn-geo-nav" id="b_nav" type="button" style="color:black; border:2px solid blue">Blue</button>
					<button class="btn btn-geo-nav" id="k_nav" type="button" style="color:black; border:2px solid grey">Black</button>
					<button class="btn btn-geo-nav" id="aa_nav" type="button">Show All</button>
				</div>
			</div>
		</nav>

		<span class="geoh3" style="margin-top:100px">Geoguessr map</span>

		<!-- No map exists yet
		<h3 style="padding-left:15px;">Geoguessr map</h3>
		<p style="padding-left:15px;">You can find the map to test your knowledge about the locations <a href="https://www.geoguessr.com/maps/608ac18c3f516f000107cde0" target="_blank">here</a>.
		-->

		<div class="section">
			<div class="headerText">Red</div>
			<div class="inside">
				<div class="bollard" data-color="r" id="red1">
					<a href="" class="imglink" target="_blank">
						<img src="https://upload.wikimedia.org/wikipedia/commons/e/e1/Strawberries.jpg" alt="" class="zoomA" loading="lazy" />
					</a>
					<p class="country">Berries</p>
				</div>
				<div class="bollard" data-color="rb" id="rb1">
					<a href="" class="imglink" target="_blank">
						<img src="https://upload.wikimedia.org/wikipedia/commons/thumb/6/6e/Red_and_blue_-_Flickr_-_Stiller_Beobachter.jpg/800px-Red_and_blue_-_Flickr_-_Stiller_Beobachter.jpg" alt="" class="zoomA" loading="lazy" />
					</a>
					<p class="country">2 Colors</p>
				</div>
			</div>
		</div>

		<div class="section">
			<div class="headerText">Blue</div>
			<div class="inside">
				<div class="bollard" data-color="b" id="b1">
					<a href="" class="imglink" target="_blank">
						<img src="https://upload.wikimedia.org/wikipedia/commons/thumb/9/98/Blue_color_gs.jpg/800px-Blue_color_gs.jpg" alt="" class="zoomA" loading="lazy" />
					</a>
					<p class="country">Blue stuff</p>
				</div>
				<div class="bollard" data-color="rb" id="rb2">
					<a href="" class="imglink" target="_blank">
						<img src="https://upload.wikimedia.org/wikipedia/commons/thumb/6/6e/Red_and_blue_-_Flickr_-_Stiller_Beobachter.jpg/800px-Red_and_blue_-_Flickr_-_Stiller_Beobachter.jpg" alt="" class="zoomA" loading="lazy" />
					</a>
					<p class="country">2 Colors</p>
				</div>
			</div>
		</div>

		<div class="section">
			<div class="headerText">Green</div>
			<div class="inside">
				<div class="bollard" data-color="g" id="g">
					<a href="" class="imglink" target="_blank">
						<img src="https://upload.wikimedia.org/wikipedia/commons/thumb/4/4c/Setaria_verticillata_W_IMG_1085.jpg/800px-Setaria_verticillata_W_IMG_1085.jpg" alt="" class="zoomA" loading="lazy" />
					</a>
					<p class="country">Grass</p>
				</div>
			</div>
		</div>

		<!--
		        <div class="section">
		          <div class="headerText">Yellow</div>
		    			<div class="inside">
		            <div class="bollard" data-color="y" id="y">
		    					<a href="" class="imglink" target="_blank">
		    						<img src="" alt="" class="zoomA" loading="lazy" />
		    					</a>
		    					<p class="country">Yellow stuff</p>
		    				</div>
		    			</div>
		    		</div>
		-->

		<!--
		    <div class="section">
		      <div class="headerText">Black</div>
					<div class="inside">
		        <div class="bollard" data-color="k" id="k">
							<a href="" class="imglink" target="_blank">
								<img src="" alt="" class="zoomA" loading="lazy" />
							</a>
							<p class="country">Black stuff</p>
						</div>
					</div>
				</div>
		-->

	</body>
	<script>
		var originalColors = [];
		var colors_shown = [];
		var used_colors = {
			'r':"#f59b9b",
			'b':"#65acf9",
			'g':"#7cef96",
			'y':"#ffe595",
			'k':"#706f6f"
		};
		$(function() {
			$(".btn-geo-nav").hover(function(){
				originalColors[$(this).index('.btn-geo-nav')] = $(this).css('background-color');
				$(this).css('background-color', '#aaa');
			},
			function(){
				$(this).css('background-color', originalColors[$(this).index('.btn-geo-nav')]);
			});
			$(".btn-geo-nav").each(function() {
				var tmp_id = $(this).attr("id").split("_nav")[0];
				if (tmp_id.length == 1) {
					colors_shown[tmp_id] = 0;
				}
			});
		});

		$(".btn-geo-nav").click(function(){
			var tmp_id = $(this).attr("id").split("_nav")[0];
			if (tmp_id.length == 1) {
				if ($(this).css("font-weight") == 400) {
					originalColors[$(this).index('.btn-geo-nav')] = used_colors[tmp_id];
					toggle_colors(tmp_id, 1);
				} else {
					originalColors[$(this).index('.btn-geo-nav')] = "white";
					toggle_colors(tmp_id, 0);
				}
				if ($(this).css("font-weight") == 700) {
					$(this).css("font-weight", 400);
				} else { $(this).css("font-weight", 700); }
			} else { // Show All
				$(".bollard").show();
				$(".btn-geo-nav").each(function() {
					$(this).css("font-weight", 400);
					$(this).css("background-color", "white");
				});
				for (var key in colors_shown) {
					colors_shown[key] = 0;
				}
			}
		});

		function toggle_colors(c, t) {
			colors_shown[c] = t;
			if (t == 0) {
				var tmp_cs = [];
				for (var key in colors_shown) {
					if (colors_shown[key] == 1) {
						tmp_cs.push(key);
					}
				}
				$(".bollard").each(function() {
					if( $(this).is(":hidden")) {
						var show_this = true;
						for (var i = 0; i < tmp_cs.length; i++) {
							if (!($(this).attr("data-color").includes(tmp_cs[i]))) {
								show_this = false;
								break;
							}
						}
						if (show_this) { $(this).show(); }
					}
				});
			}
			if (t == 1) {
				$(".bollard").each(function(){
					if($(this).is(":visible")) {
						if (!($(this).attr("data-color").includes(c))) {
							$(this).hide();
						}
					}
				});
			}
		}
	</script>
</html>
