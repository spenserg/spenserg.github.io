<!DOCTYPE html>
<html>
	<head>
		<title>Transit</title>
		<meta charset="utf-8">
		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
		<link rel="stylesheet" href="/geousa/css/bollards.css" type="text/css" />
		<script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
		<script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
		<style>
			.zoomA { cursor:pointer }
			body { margin-top:160px; }
			@media only screen and (max-width: 712px) {
				body { margin-top:215px; }
			}
		</style>
	</head>
	<body>
		<nav class="navbar navbar-expand-lg fixed-top" style="background-color: #212121; color: white;">
			<a class="navbar-brand" href="/geousa/main.html">
				<img class="logo" src="/geousa/img/logo/geohints.png" />
			</a>
			<div class="input-group mb-3" style="border:2px solid grey">
				<div class="input-group-prepend" style="margin:2px">
					<span style="margin:auto">Known colors:</span>
					<button class="btn btn-geo-nav" id="r_nav" type="button" style="color:black; border:2px solid red">Red</button>
					<button class="btn btn-geo-nav" id="o_nav" type="button" style="color:black; border:2px solid orange">Orange</button>
					<button class="btn btn-geo-nav" id="y_nav" type="button" style="color:black; border:2px solid yellow">Yellow</button>
					<button class="btn btn-geo-nav" id="g_nav" type="button" style="color:black; border:2px solid green">Green</button>
					<button class="btn btn-geo-nav" id="b_nav" type="button" style="color:black; border:2px solid blue">Blue</button>
					<button class="btn btn-geo-nav" id="k_nav" type="button" style="color:black; border:2px solid grey">Black</button>
					<button class="btn btn-geo-nav" id="aa_nav" type="button">Show All</button>
				</div>
			</div>
		</nav>

    <span class="geoh3">Geoguessr map</span>
    <!-- No map exists
		<p>You can find the map to test your knowledge about the locations <a href="" target="_blank">here</a>.</p> -->

    <div class="headerText">Buses</div>
		<div class="section">
			<div class="headerText">One Dominant Color</div>
			<div class="inside">
				<div class="bollard" data-color="wyb"> <!-- Juneau Alaska  -->
					<img src="/geousa/img/transit/buses/bus_AK_1.jpg" alt="Juneau Alaska bus" id="AK_1" class="zoomA" loading="lazy" />
					<p class="country">Juneau, Alaska</p>
				</div>
				<div class="bollard" data-color="wyb"> <!-- Fairbanks Alaska  -->
					<img src="/geousa/img/transit/buses/bus_AK_2.jpg" alt="Fairbanks Alaska bus" id="AK_2" class="zoomA" loading="lazy" />
					<p class="country">Fairbanks, Alaska</p>
				</div>
				<div class="bollard" data-color="bgw"> <!-- Anchorage Alaska  -->
					<img src="/geousa/img/transit/buses/bus_AK_3.jpg" alt="Anchorage Alaska bus" id="AK_3" class="zoomA" loading="lazy" />
					<p class="country">Anchorage, Alaska</p>
				</div>
				<div class="bollard" data-color="wbgk"> <!-- Little Rock Arkansas  -->
					<img src="/geousa/img/transit/buses/bus_AR_1.jpg" alt="Little Rock Arkansas bus" id="AR_1" class="zoomA" loading="lazy" />
					<p class="country">Little Rock, Arkansas</p>
				</div>
			</div>
		</div>
		<script>
			var originalColors = [];
			var colors_shown = [];
			var used_colors = {
				'r':"#f59b9b",
				'o':"#ffc107",
				'b':"#65acf9",
				'g':"#7cef96",
				'y':"#ffe595",
				'k':"#706f6f"
			};
			$(function() {
				$(".btn-geo-nav").hover(function(){
					originalColors[$(this).index('.btn-geo-nav')] = $(this).css('background-color');
					$(this).css('background-color', '#aaa');
				},
				function(){
					$(this).css('background-color', originalColors[$(this).index('.btn-geo-nav')]);
				});
				$(".btn-geo-nav").each(function() {
					var tmp_id = $(this).attr("id").split("_nav")[0];
					if (tmp_id.length == 1) {
						colors_shown[tmp_id] = 0;
					}
				});
			});

			$(".btn-geo-nav").click(function(){
	  		var tmp_id = $(this).attr("id").split("_nav")[0];
	  		if (tmp_id.length == 1) {
	  			if ($(this).css("font-weight") == 400) {
	  				originalColors[$(this).index('.btn-geo-nav')] = used_colors[tmp_id];
	  				toggle_colors(tmp_id, 1);
	  			} else {
	  				originalColors[$(this).index('.btn-geo-nav')] = "white";
	  				toggle_colors(tmp_id, 0);
	  			}
	  			if ($(this).css("font-weight") == 700) {
	  				$(this).css("font-weight", 400);
	  			} else { $(this).css("font-weight", 700); }
	  		} else { // Show All
	  			$(".bollard").show();
	  			$(".btn-geo-nav").each(function() {
	  				$(this).css("font-weight", 400);
	  				$(this).css("background-color", "white");
	  			});
	  			for (var key in colors_shown) {
	  				colors_shown[key] = 0;
	  			}
	  		}
	  	});

	  	function toggle_colors(c, t) {
	  		colors_shown[c] = t;
	  		if (t == 0) {
	  			var tmp_cs = [];
	  			for (var key in colors_shown) {
	  				if (colors_shown[key] == 1) {
	  					tmp_cs.push(key);
	  				}
	  			}
	  			$(".bollard").each(function() {
	  				if( $(this).is(":hidden")) {
	  					var show_this = true;
	  					for (var i = 0; i < tmp_cs.length; i++) {
	  						if (!($(this).attr("data-color").includes(tmp_cs[i]))) {
	  							show_this = false;
	  							break;
	  						}
	  					}
	  					if (show_this) { $(this).show(); }
	  				}
	  			});
	  		}
	  		if (t == 1) {
	  			$(".bollard").each(function(){
	  				if($(this).is(":visible")) {
	  					if (!($(this).attr("data-color").includes(c))) {
	  						$(this).hide();
	  					}
	  				}
	  			});
	  		}
	  	}

			/* OBSOLETE but kept for reference:
			 * Fades image into geo image on mouse-over
			 * and back to clear image on mouse-out

			  		$(".zoomA").mouseover(function() {
			  			var img_id = $(this)[0]['id'];
			  			var img_url = "/geousa/img/plates/plate_" + img_id + "_geo.png";
			  			if (img_id.length > 0) {
			  				$.get(img_url).fail(function() {
			  					img_url = "/geousa/img/wanted.png";
			  				});
			  				$(this).fadeOut(200, function(){
			  					$(this).attr("src", img_url);
			  					$(this).fadeIn(150);
			  				});
			  			}
			  		}).mouseout(function() {
			  			var img_id = $(this)[0]['id'];
			  			var img_url = "/geousa/img/plates/plate_" + img_id + ".jpg";
			  			if (img_id.length > 0) {
			  				$.get(img_url).fail(function() {
			  					img_url = "/geousa/img/wanted.png";
			  				});
			  				$(this).fadeOut(150, function(){
			  					$(this).attr("src", img_url);
			  					$(this).fadeIn(200);
			  				});
			  			}
			  		});
			*/

		</script>
	</body>
</html>
