<head>
		<title>Oddtoms Photodex</title>
		<meta name="viewport" content="user-scalable=no, width=device-width">
		<meta charset="UTF-8">

		<link href="css/bootstrap.min.css" rel="stylesheet" >
		<link href="css/style.css" rel="stylesheet" type="text/css">

		<script src="js/jquery.min.js"></script>
		<script src="js/bootstrap.min.js"></script>
</head>

<body>
	<embed src="/photodex/photodex_all.txt" id="photodex_all_txt">
	<br/><br/>
	Search Term: <input id="test_1" type="text" style="width:75%" />
	<br/><br/>
<!--
	TEXT: <textarea id="test_2"></textarea>
	<br/><br/>
-->
	<button onclick="compute()">Search</button><br/>
	<hr>
  <textarea id="result"></textarea>
</body>

<script>
$("#photodex_all_txt").load("photodex/photodex_all.txt");
	
  compute = function() {
	  var keyword = $("#test_1").val();
	  var all_text = $("#photodex_all_txt").text();
	  var result = "";

	  console.log(all_text);
	  console.log(keyword);
	  
	  let rega = new RegExp(String.raw`\n([^\n]*${keyword}[^\n]*)\n`, "g");
	  while(null != (z = rega.exec(all_text))) {
		  result += z + "\n";
	  }
	  $("#result").text(result);
  }
</script>
